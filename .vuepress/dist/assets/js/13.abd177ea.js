(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{366:function(t,a,e){"use strict";e.r(a);var s=e(42),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),e("p",[t._v("本节内容主要介绍在该框架内的各种自定义事件，他们的事件名称、传入数据、事件触发条件。他们中的一部分在"),e("code",[t._v("ThreeView")]),t._v("中做了相应的处理。目前在"),e("code",[t._v("/three/Event")]),t._v("内有两种事件。一种是"),e("code",[t._v("dt-data")]),t._v("的自定义事件，命名都是以"),e("code",[t._v("three-")]),t._v("开头。另一类是最开始的封装事件，他们以"),e("code",[t._v("on")]),t._v("开头。")]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("警告：")]),t._v(" "),e("p",[t._v("所有的事件都被挂载在"),e("code",[t._v("window")]),t._v("下，所以不要出现事件重名。")])]),t._v(" "),e("h2",{attrs:{id:"框架自定义事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#框架自定义事件"}},[t._v("#")]),t._v(" 框架自定义事件")]),t._v(" "),e("h3",{attrs:{id:"controlschangeevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#controlschangeevent"}},[t._v("#")]),t._v(" ControlsChangeEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("onControlsChange")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            app"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ThreeView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            oldControls"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" OrbitControls"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("PointLockControls"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            newControls"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" OrbitControls"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("PointLockControls"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("详细：在"),e("code",[t._v("three/Event/ControlsChange.js")]),t._v(" 控制器发生变更的时候如果需要产生变更的钩子事件，可以使用此事件触发。")])]),t._v(" "),e("h3",{attrs:{id:"pointerlockexitevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointerlockexitevent"}},[t._v("#")]),t._v(" PointerLockExitEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("onPointerLockExit")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("详细：在"),e("code",[t._v("three/Event/PointerLockChange.js")]),t._v(",控制器退出"),e("code",[t._v("PointLockControls")]),t._v("的时候，触发该事件。")])]),t._v(" "),e("h3",{attrs:{id:"threeerrorevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#threeerrorevent"}},[t._v("#")]),t._v(" ThreeErrorEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("onThreeError")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("详细：在"),e("code",[t._v("three/Event/ThreeError.js")]),t._v(", runtime 发生错误时候可以使用此事件触发。")])]),t._v(" "),e("h2",{attrs:{id:"dt-data-自定义事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dt-data-自定义事件"}},[t._v("#")]),t._v(" dt-data 自定义事件")]),t._v(" "),e("h3",{attrs:{id:"elementresizeevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elementresizeevent"}},[t._v("#")]),t._v(" ElementResizeEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("three-elementresize")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        width"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        height"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("详细：在"),e("code",[t._v("three/Event/ElementResize.js")]),t._v("，触发该事件重新设置组件的宽度与高度。")])]),t._v(" "),e("h3",{attrs:{id:"changebackgroundevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changebackgroundevent"}},[t._v("#")]),t._v(" ChangeBackgroundEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("three-changebackground")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        alpha"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        color"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("详细：在"),e("code",[t._v("three/Event/ChangeBackground.js")]),t._v("，触发该事件改变渲染器背景的颜色和透明度。")])]),t._v(" "),e("h3",{attrs:{id:"changecontrolsconfigevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changecontrolsconfigevent"}},[t._v("#")]),t._v(" ChangeControlsConfigEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("three-changecontrolsconfig")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        autoRotate"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" booleam"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        pan"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" booleam"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"statsvisibleevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#statsvisibleevent"}},[t._v("#")]),t._v(" StatsVisibleEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("three-statsvisible")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        visible"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" booleam"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("详细：在"),e("code",[t._v("three/Event/StatsVisible.js")]),t._v("，触发该事件改变性能监视面板显示隐藏。")])]),t._v(" "),e("h3",{attrs:{id:"destroyevent"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#destroyevent"}},[t._v("#")]),t._v(" DestroyEvent")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("事件名称："),e("code",[t._v("three-destroyApp")])])]),t._v(" "),e("li",[e("p",[t._v("事件参数：")])])]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    detail"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("ul",[e("li",[t._v("详细：在"),e("code",[t._v("three/Event/Diestory.js")]),t._v("，触发该事件完成垃圾回收。")])]),t._v(" "),e("h2",{attrs:{id:"事件处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件处理"}},[t._v("#")]),t._v(" 事件处理")]),t._v(" "),e("p",[e("code",[t._v("ThreeView")]),t._v("主线程上监听的事件名称如下：")]),t._v(" "),e("h3",{attrs:{id:"resize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resize"}},[t._v("#")]),t._v(" resize")]),t._v(" "),e("p",[t._v("描述：在窗口尺寸发生变化的时候，重设渲染器尺寸。")]),t._v(" "),e("h3",{attrs:{id:"scroll"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scroll"}},[t._v("#")]),t._v(" scroll")]),t._v(" "),e("p",[t._v("描述：在页面发生滚动的时候重设组件位置。")]),t._v(" "),e("h3",{attrs:{id:"dblclick"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dblclick"}},[t._v("#")]),t._v(" dblclick")]),t._v(" "),e("p",[t._v("描述：在双击的时候触发，不过所有和模型的交互委托在模型本身完成监听。")]),t._v(" "),e("h3",{attrs:{id:"mousemove"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mousemove"}},[t._v("#")]),t._v(" mousemove")]),t._v(" "),e("p",[t._v("描述：在鼠标移动的时候触发，用于监听鼠标移到模型上。")]),t._v(" "),e("h3",{attrs:{id:"mouseleave"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mouseleave"}},[t._v("#")]),t._v(" mouseleave")]),t._v(" "),e("p",[t._v("描述：在鼠标移动的时候触发，用于监听鼠标从模型上移开。")]),t._v(" "),e("h3",{attrs:{id:"keydown、keyup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keydown、keyup"}},[t._v("#")]),t._v(" keydown、keyup")]),t._v(" "),e("p",[t._v("描述：在键盘按下的时候触发，用于"),e("code",[t._v("PointLockControls")]),t._v("键盘控制实现。")]),t._v(" "),e("h3",{attrs:{id:"pointerlockchange"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pointerlockchange"}},[t._v("#")]),t._v(" pointerlockchange")]),t._v(" "),e("p",[t._v("描述：在浏览器该事件触发时触发"),e("code",[t._v("onPointerLockExit")]),t._v("事件。")]),t._v(" "),e("h3",{attrs:{id:"three-elementresize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#three-elementresize"}},[t._v("#")]),t._v(" three-elementresize")]),t._v(" "),e("p",[t._v("描述：监听该事件，若触发，则改变组件尺寸。")]),t._v(" "),e("h3",{attrs:{id:"three-statsvisible"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#three-statsvisible"}},[t._v("#")]),t._v(" three-statsvisible")]),t._v(" "),e("p",[t._v("描述：监听该事件，若触发，则改变性能监视面板显示隐藏。")]),t._v(" "),e("h3",{attrs:{id:"three-changebackground"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#three-changebackground"}},[t._v("#")]),t._v(" three-changebackground")]),t._v(" "),e("p",[t._v("描述：监听该事件，若触发，则改变渲染器背景。")]),t._v(" "),e("h3",{attrs:{id:"three-changecontrolsconfig"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#three-changecontrolsconfig"}},[t._v("#")]),t._v(" three-changecontrolsconfig")]),t._v(" "),e("p",[t._v("描述：监听该事件，若触发，则改变控制器自动旋转和移动。")])])}),[],!1,null,null,null);a.default=r.exports}}]);